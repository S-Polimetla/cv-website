[build]
command = "gulp build"
publish = "build"

[build.environment]
#NODE_VERSION = "16"
AWS_LAMBDA_JS_RUNTIME = "nodejs12.x"

[build.processing.css]
bundle = true
minify = true

[build.processing.js]
bundle = true
minify = true

[build.processing.html]
pretty_urls = true

[build.processing.images]
compress = true

[functions]
node_bundler = "esbuild"

[[plugins]]
package = "netlify-plugin-fetch-feeds"
  [plugins.inputs]
    # Where should data files reside
    dataDir = "site/_data"

    # All the feeds we wish to gather for use in the build

    [[plugins.inputs.feeds]]
      name = "hawksworx"
      url = "https://hawksworx.com/feed.json"
      ttl = 3600
    [[plugins.inputs.feeds]]
      name = "netlify"
      url = "https://www.netlify.com/blog/index.xml"
      ttl = 86400

[[plugins]]
package = "@netlify/plugin-sitemap"

[[plugins]]
package = "./plugin.cjs"

[[redirects]]
from = "/here"
to = "/there"
force = false

[[headers]]
for = "/blue"
  [headers.values]
  TEST = '''
  red,
  green'''

[[headers]]
for = "/gray"
  [headers.values]
  TEST = "color"
  TEST_THREE = ["color_three", "color_three_three"]

[[headers]]
for = "/gray"
  [headers.values]
  TEST = "colour"
  TEST_TWO = "colour_two"
